<!DOCTYPE html>
<html>
<head>
    @@include('common/head.html')
</head>

<body>
<div id="gnb"></div>
@@include('common/lnb.html')

<div class="wrap">
    <div id="container" class="ct_claim_accident_detail">
        @@include('common/header_title.html')
        <div class="contents_step no_tab  with_title">
            <a href="/" class="btn_prev common_wrap">이전</a>보상간편청구
        </div>
        @@include('common/contents_step_claim.html',{ step: 'step3' })
        <div id="contents">
            <div class="accident_type common_wrap">
                <div class="item_list">
                    <div class="acc_item">
                        <h4 class="part_title"><strong>의료비 1</strong> <button class="btn_delete_acc t__underline">삭제</button></h4>
                        <p class="add_cmt"><span class="c__red">대체항공편이 4시간 이내에 제공되지 못한 경우</span>에 한해 보상됩니다</p>

                        <div class="input_group full">
                            <label class="input_label">사고발생일시</label>
                            <div class="input_box col2">
                                <input type="text" class="mi_input datepicker"/>
                                <select class="mi_input select">
                                    <option disabled hidden selected>시간</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고발생/발병 국가</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">진단명</label>
                            <div class="input_box">
                                <input type="text" class="mi_input"/>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고내용</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">피해물품 <button class="t__underline btn_add_item">물품추가</button></label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">사고경위</label>
                            <div class="input_box">
                            <textarea class="mi_textarea cs_scroll" placeholder="최대한 상세히 작성해주세요
예) 귀국을 위해 공항에 도착한 후 여권을 분실했다는 것을 알고 경로를 되돌아가봤지만 찾을 수 없어 긴급여권을 발급하여 귀국"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="acc_item">
                        <h4 class="part_title"><strong>의료비 2</strong> <button class="btn_delete_acc t__underline">삭제</button></h4>
                        <p class="add_cmt"><span class="c__red">대체항공편이 4시간 이내에 제공되지 못한 경우</span>에 한해 보상됩니다</p>

                        <div class="input_group full">
                            <label class="input_label">사고발생일시</label>
                            <div class="input_box col2">
                                <input type="text" class="mi_input datepicker"/>
                                <select class="mi_input select">
                                    <option disabled hidden selected>시간</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고발생/발병 국가</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">진단명</label>
                            <div class="input_box">
                                <input type="text" class="mi_input"/>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고내용</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">피해물품 <button class="t__underline btn_add_item">물품추가</button></label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">사고경위</label>
                            <div class="input_box">
                            <textarea class="mi_textarea cs_scroll" placeholder="최대한 상세히 작성해주세요
예) 귀국을 위해 공항에 도착한 후 여권을 분실했다는 것을 알고 경로를 되돌아가봤지만 찾을 수 없어 긴급여권을 발급하여 귀국"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="add_wrap">
                    <button class="btn_add">보상추가</button>
                </div>
            </div>

            <div class="accident_type common_wrap">
                <div class="item_list">
                    <div class="acc_item">
                        <h4 class="part_title"><strong>배상책입 1</strong> <button class="btn_delete_acc t__underline">삭제</button></h4>
                        <p class="add_cmt"><span class="c__red">대체항공편이 4시간 이내에 제공되지 못한 경우</span>에 한해 보상됩니다</p>

                        <div class="input_group full">
                            <label class="input_label">사고발생일시</label>
                            <div class="input_box col2">
                                <input type="text" class="mi_input datepicker"/>
                                <select class="mi_input select">
                                    <option disabled hidden selected>시간</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고발생/발병 국가</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">진단명</label>
                            <div class="input_box">
                                <input type="text" class="mi_input"/>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고내용</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">피해물품 <button class="t__underline btn_add_item">물품추가</button></label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">사고경위</label>
                            <div class="input_box">
                            <textarea class="mi_textarea cs_scroll" placeholder="최대한 상세히 작성해주세요
예) 귀국을 위해 공항에 도착한 후 여권을 분실했다는 것을 알고 경로를 되돌아가봤지만 찾을 수 없어 긴급여권을 발급하여 귀국"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="acc_item">
                        <h4 class="part_title"><strong>배상책임 2</strong> <button class="btn_delete_acc t__underline">삭제</button></h4>
                        <p class="add_cmt"><span class="c__red">대체항공편이 4시간 이내에 제공되지 못한 경우</span>에 한해 보상됩니다</p>

                        <div class="input_group full">
                            <label class="input_label">사고발생일시</label>
                            <div class="input_box col2">
                                <input type="text" class="mi_input datepicker"/>
                                <select class="mi_input select">
                                    <option disabled hidden selected>시간</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고발생/발병 국가</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">진단명</label>
                            <div class="input_box">
                                <input type="text" class="mi_input"/>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">사고내용</label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                </select>
                            </div>
                        </div>

                        <div class="input_group full">
                            <label class="input_label">피해물품 <button class="t__underline btn_add_item">물품추가</button></label>
                            <div class="input_box">
                                <select class="mi_input select">
                                    <option disabled hidden selected>선택</option>
                                    <option>직접입력</option>
                                </select>
                                <button class="mi_btn  color w__80">삭제</button>
                                <input type="text" class="mi_input direct_input"/>
                            </div>
                        </div>


                        <div class="input_group full">
                            <label class="input_label">사고경위</label>
                            <div class="input_box">
                            <textarea class="mi_textarea cs_scroll" placeholder="최대한 상세히 작성해주세요
예) 귀국을 위해 공항에 도착한 후 여권을 분실했다는 것을 알고 경로를 되돌아가봤지만 찾을 수 없어 긴급여권을 발급하여 귀국"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="add_wrap">
                    <button class="btn_add">보상추가</button>
                </div>
            </div>

            <div class="common_wrap">
                <div class="btn_wrap dual">
                    <button class="mi_btn white small">임시저장</button>
                    <button class="mi_btn color big">다음</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="footer"></div>

<script>
    setPosition($('.drop_select_wrap'));

    $('.drop_select').on('click', function(){
        if (!$(this).hasClass('active')) {
            $(this).addClass('active');
            $(this).siblings('.drop_down_conts').slideDown(200);
        }
    })

    $('.drop_down_conts input[type=checkbox]').on('change', function(){
        var wrap = $(this).parents('.drop_select_wrap')
        var ipSelect = wrap.find('.drop_select');

        if ($(this).prop('checked')) {
            var checkedItem = $('<span class="checked_item" data-name="'+$(this).val()+'">'+$(this).siblings('.text').text()+'</span>');
            var button = $('<button class="close"></button>')

            checkedItem.append(button);
            ipSelect.append(checkedItem);

            button.on('click',function(e){
                e.stopPropagation();
                e.preventDefault();

                var wrap = $(this).parents('.drop_select_wrap');
                var parent = $(this).parents('.checked_item');

                wrap.find('input[value = '+ parent.data('name')+']').prop('checked', false);
                parent.remove();

                toggleDefault(wrap)
                setPosition(wrap);
            });
        }
        else ipSelect.find('[data-name = '+$(this).val()+']').remove();

        toggleDefault(wrap);
        setPosition(wrap);




    })

    $('.select_done').on('click', function(){
        var ipSelect = $(this).parents('.drop_select_wrap').find('.drop_select');
        ipSelect.removeClass('active');
        ipSelect.siblings('.drop_down_conts').stop().slideUp(200);
    });



    function toggleDefault(dropWrap){
        var ipSelect = dropWrap.find('.drop_select');
        if (!ipSelect.find('.checked_item').length) ipSelect.find('.default').removeClass('el_hidden');
        else ipSelect.find('.default').addClass('el_hidden');
    }

    function setPosition(dropWrap){
        var ipSelect = dropWrap.find('.drop_select');
        var selectConts = dropWrap.find('.drop_down_conts');
        selectConts.css({top: (ipSelect.outerHeight() + 4) + 'px'})
    }
</script>

@@include('common/js.html')
</body>
</html>
